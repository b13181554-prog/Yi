# ๐ฅ ุฃุฏูุงุช ุงุฎุชุจุงุฑ ุงูุถุบุท ูู OBENTCHI Trading Bot

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุฌููุนุฉ ุดุงููุฉ ูู ุฃุฏูุงุช ุงุฎุชุจุงุฑ ุงูุถุบุท ูุงุฎุชุจุงุฑ ุญุฏูุฏ ุชุญูู ุงููุธุงู ูุชุญุฏูุฏ ููุงุท ุงูุถุนู.

## ๐๏ธ ุงูุฃุฏูุงุช ุงููุชุงุญุฉ

### 1. Load Tester (ุงุฎุชุจุงุฑ ุงูุถุบุท ุงูุฑุฆูุณู)
**ุงูููู:** `load-tester.js`

ุฃุฏุงุฉ ุดุงููุฉ ูุงุฎุชุจุงุฑ:
- โ API endpoints ุงููุฎุชููุฉ
- โ ุฃููุงุช ุงูุงุณุชุฌุงุจุฉ
- โ ูุนุฏูุงุช ุงููุฌุงุญ/ุงููุดู
- โ ุงุณุชููุงู ุงูููุงุฑุฏ
- โ ุงูุทูุจุงุช ุงููุชุฒุงููุฉ

**ุงูููุฒุงุช:**
- ุงุฎุชุจุงุฑ Health endpoint
- ุงุฎุชุจุงุฑ User Data endpoint
- ุงุฎุชุจุงุฑ Price endpoint
- ุงุฎุชุจุงุฑ Analysis endpoint
- ุงุฎุชุจุงุฑ Search endpoint
- ุงุฎุชุจุงุฑ ุงูุถุบุท ุงููุชุฒุงูู
- ุงุฎุชุจุงุฑ ุงูุชุฏุฑุฌ (Ramp-up test)

### 2. Stress Test Runner (ูุฏูุฑ ุงูุงุฎุชุจุงุฑุงุช)
**ุงูููู:** `run-stress-test.js`

ุณูุฑูุจุช ุดุงูู ูููู ุจุชุดุบูู ุฌููุน ุงูุงุฎุชุจุงุฑุงุช ุจุดูู ุชุฏุฑูุฌู:

**ุงููุฑุงุญู:**
1. ๐ **ุงููุฑุญูุฉ 1**: ุงุฎุชุจุงุฑุงุช ุฃุณุงุณูุฉ (100 ุทูุจ)
2. ๐ **ุงููุฑุญูุฉ 2**: ุงุฎุชุจุงุฑ ุจูุงูุงุช ุงููุณุชุฎุฏููู (20 ูุณุชุฎุฏู ร 3 ูุฑุงุช)
3. ๐ **ุงููุฑุญูุฉ 3**: ุงุฎุชุจุงุฑ ุจูุงูุงุช ุงูุฃุณุนุงุฑ (10 ุฑููุฒ ร 5 ูุฑุงุช)
4. ๐ **ุงููุฑุญูุฉ 4**: ุงุฎุชุจุงุฑ ุงูุจุญุซ (10 ุงุณุชุนูุงูุงุช ร 5 ูุฑุงุช)
5. ๐ **ุงููุฑุญูุฉ 5**: ุงุฎุชุจุงุฑ ุงูุชุญููู ุงูููู (3 ุญุงูุงุช ุงุฎุชุจุงุฑ)
6. ๐ **ุงููุฑุญูุฉ 6**: ุงุฎุชุจุงุฑ ุงูุถุบุท ุงููุชุฒุงูู (50 ูุณุชุฎุฏู ููุฏุฉ 10 ุซุงููุฉ)
7. ๐ **ุงููุฑุญูุฉ 7**: ุงุฎุชุจุงุฑ ุงูุชุฏุฑุฌ (0 ุฅูู 100 ูุณุชุฎุฏู ุฎูุงู 30 ุซุงููุฉ)
8. ๐ **ุงููุฑุญูุฉ 8**: ุงุฎุชุจุงุฑ ุงูุญูู ุงูุฃูุตู (200 ูุณุชุฎุฏู ููุฏุฉ 15 ุซุงููุฉ)

### 3. Database Stress Tester (ุงุฎุชุจุงุฑ ุถุบุท ูุงุนุฏุฉ ุงูุจูุงูุงุช)
**ุงูููู:** `database-stress-test.js`

ุงุฎุชุจุงุฑ ุฎุงุต ุจูุงุนุฏุฉ ุงูุจูุงูุงุช MongoDB:

**ุงูุงุฎุชุจุงุฑุงุช:**
- โ ุงููุฑุงุกุฉ ุงููุชุฒุงููุฉ (100 ุนูููุฉ)
- โ ุงููุชุงุจุฉ ุงููุชุฒุงููุฉ (50 ุนูููุฉ)
- โ ุงูุชุญุฏูุซ ุงููุชุฒุงูู (50 ุนูููุฉ)
- โ Aggregation ุงููุนูุฏุฉ (20 ุงุณุชุนูุงู)
- โ ุฃุฏุงุก ุงูููุงุฑุณ (Indexes)

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### ุงูุชุญุถูุฑ

1. **ุชุฃูุฏ ูู ุชุดุบูู ุงูุฎุงุฏู:**
```bash
# ุชุดุบูู ุงูุฎุงุฏู ุนูู port 5000
node process-manager.js
```

2. **ุชุซุจูุช ุงููุชุทูุจุงุช:**
```bash
npm install axios
```

### ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช

#### ุงุฎุชุจุงุฑ ุงูุถุบุท ุงูุดุงูู (ููุตู ุจู):
```bash
node load-testing/run-stress-test.js
```

#### ุงุฎุชุจุงุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุท:
```bash
node load-testing/database-stress-test.js
```

#### ุงุณุชุฎุฏุงู Load Tester ูุจุงุดุฑุฉ:
```javascript
const LoadTester = require('./load-testing/load-tester');

async function customTest() {
  const tester = new LoadTester('http://localhost:5000');
  tester.results.startTime = Date.now();
  
  // ุชุดุบูู ุงุฎุชุจุงุฑุงุชู ุงููุฎุตุตุฉ
  await tester.testHealthEndpoint(50);
  
  tester.results.endTime = Date.now();
  const report = await tester.generateReport();
  tester.printReport(report);
}

customTest();
```

## ๐ ุงูุชูุงุฑูุฑ

ุจุนุฏ ูู ุงุฎุชุจุงุฑุ ูุชู ุฅูุดุงุก ุชูุงุฑูุฑ ููุตูุฉ:

### ุชูุฑูุฑ ุงุฎุชุจุงุฑ ุงูุถุบุท:
- **ุงูููู:** `load-testing/stress-test-report.json`
- **ุงููุญุชูู:**
  - ุฅุญุตุงุฆูุงุช ุงูุทูุจุงุช
  - ุฃููุงุช ุงูุงุณุชุฌุงุจุฉ (Min, Max, Avg, P50, P90, P95, P99)
  - ูุนุฏูุงุช ุงููุฌุงุญ/ุงููุดู
  - ุฃููุงุฏ ุงูุญุงูุฉ
  - ุฃููุงุน ุงูุฃุฎุทุงุก
  - ุงุณุชููุงู ุงูููุงุฑุฏ
  - ุงูุชูุตูุงุช

### ุชูุฑูุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช:
- **ุงูููู:** `load-testing/database-stress-test-report.json`
- **ุงููุญุชูู:**
  - ุฃุฏุงุก ุงูุนูููุงุช ุญุณุจ ุงูููุน
  - ุฃููุงุช ุงูุงุณุชุฌุงุจุฉ ููุงุณุชุนูุงูุงุช
  - ูุนุฏู ุงููุฌุงุญ
  - ุงูุฃุฎุทุงุก

## ๐ ููู ุงููุชุงุฆุฌ

### ูุคุดุฑุงุช ุงูุฃุฏุงุก ุงูุฌูุฏ:
- โ ูุนุฏู ูุฌุงุญ > 95%
- โ ูุชูุณุท ููุช ุงุณุชุฌุงุจุฉ < 1000ms
- โ P95 < 3000ms
- โ ูุนุฏู ุทูุจุงุช > 10 req/s
- โ ุฃุฎุทุงุก Timeout = 0

### ูุคุดุฑุงุช ุชุญุชุงุฌ ุชุญุณูู:
- โ๏ธ ูุนุฏู ูุฌุงุญ < 95%
- โ๏ธ ูุชูุณุท ููุช ุงุณุชุฌุงุจุฉ > 1000ms
- โ๏ธ P95 > 3000ms
- โ๏ธ ูุฌูุฏ ุฃุฎุทุงุก Timeout
- โ๏ธ ุฃุฎุทุงุก ุฎุงุฏู (5xx)

## ๐ก ุงูุชูุตูุงุช

### ุชุญุณูู ุงูุฃุฏุงุก:
1. **ุงูุชุฎุฒูู ุงููุคูุช (Caching):**
   - ุงุณุชุฎุฏู Redis ูุชุฎุฒูู ุงูุจูุงูุงุช ุงููุชูุฑุฑุฉ
   - ุชุทุจูู LRU cache ููุงุณุชุนูุงูุงุช ุงูุดุงุฆุนุฉ

2. **ุชุญุณูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
   - ุฅูุดุงุก ููุงุฑุณ ุนูู ุงูุญููู ุงูุฃูุซุฑ ุงุณุชุฎุฏุงูุงู
   - ุงุณุชุฎุฏุงู Connection Pooling
   - ุชุญุณูู ุงูุงุณุชุนูุงูุงุช ุงููุนูุฏุฉ

3. **ูุนุงูุฌุฉ ุงูุทูุจุงุช ุงููุชุฒุงููุฉ:**
   - ุงุณุชุฎุฏุงู Worker Threads
   - ุชุทุจูู Queue System (Bull + Redis)
   - Load Balancing

4. **ุชุญุณูู ุงูููุงุฑุฏ:**
   - ูุฑุงูุจุฉ ุงุณุชููุงู ุงูุฐุงูุฑุฉ
   - ุชุญุณูู Garbage Collection
   - ุฒูุงุฏุฉ ุงูููุงุฑุฏ ุญุณุจ ุงูุญุงุฌุฉ

## โ๏ธ ุงูุชุฎุตูุต

### ุชุบููุฑ ุนุฏุฏ ุงููุณุชุฎุฏููู:
```javascript
// ูู run-stress-test.js
await tester.stressTestConcurrent(
  '/api/health',
  {},
  100,  // ุนุฏุฏ ุงููุณุชุฎุฏููู ุงููุชุฒุงูููู (ุบูุฑ ูุฐุง ุงูุฑูู)
  10000 // ุงููุฏุฉ ุจุงููููู ุซุงููุฉ
);
```

### ุฅุถุงูุฉ ุงุฎุชุจุงุฑุงุช ุฌุฏูุฏุฉ:
```javascript
// ูู run-stress-test.js
console.log('\n๐ ุงููุฑุญูุฉ ุงูุฌุฏูุฏุฉ: ุงุฎุชุจุงุฑู ุงููุฎุตุต');
console.log('โ'.repeat(80));

await tester.testMyCustomEndpoint();
```

## ๐ง ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงูุฎุงุฏู ูุง ูุณุชุฌูุจ:
```bash
# ุชุฃูุฏ ูู ุชุดุบูู ุงูุฎุงุฏู
curl http://localhost:5000/api/health
```

### ุฃุฎุทุงุก ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช:
```bash
# ุชุฃูุฏ ูู MONGODB_URI
echo $MONGODB_URI
```

### ุงุณุชููุงู ุฐุงูุฑุฉ ุนุงูู:
- ููู ุนุฏุฏ ุงูุทูุจุงุช ุงููุชุฒุงููุฉ
- ุฃุถู ุชุฃุฎูุฑ ุจูู ุงูุฏูุนุงุช
- ุฑุงูุจ Memory Leaks

## ๐ ููุงุญุธุงุช

- โ๏ธ **ูุง ุชุดุบู ุงุฎุชุจุงุฑ ุงูุญูู ุงูุฃูุตู ุนูู ุจูุฆุฉ ุงูุฅูุชุงุฌ**
- โ๏ธ ุจุนุถ ุงูุงุฎุชุจุงุฑุงุช ูุฏ ุชุณุชุบุฑู ููุช ุทููู (5-10 ุฏูุงุฆู)
- โ๏ธ ุชุฃูุฏ ูู ูุฌูุฏ ููุงุฑุฏ ูุงููุฉ ูุจู ุจุฏุก ุงูุงุฎุชุจุงุฑ
- โ๏ธ ุฑุงูุจ ุงุณุชููุงู ุงูููุงุฑุฏ ุฎูุงู ุงูุงุฎุชุจุงุฑ

## ๐ฏ ุงูุฃูุฏุงู

ุงููุฏู ูู ูุฐู ุงูุงุฎุชุจุงุฑุงุช:
1. โ ุชุญุฏูุฏ ุงูุญุฏ ุงูุฃูุตู ูููุณุชุฎุฏููู ุงููุชุฒุงูููู
2. โ ุงูุชุดุงู ููุงุท ุงูุถุนู (Bottlenecks)
3. โ ููุงุณ ุฃุฏุงุก ุงููุธุงู ุชุญุช ุงูุถุบุท
4. โ ุงูุชุฃูุฏ ูู ุงุณุชูุฑุงุฑ ุงููุธุงู
5. โ ุชุญุฏูุฏ ุงููุฌุงูุงุช ุงูุชู ุชุญุชุงุฌ ุชุญุณูู

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุฑุงุฌุน ุงูุชูุงุฑูุฑ ุงููููุดุฃุฉ
2. ุชุญูู ูู logs ุงูุฎุงุฏู
3. ุฑุงุฌุน ุงุณุชููุงู ุงูููุงุฑุฏ
4. ูู ุจุชูููู ุนุฏุฏ ุงูุทูุจุงุช ุงููุชุฒุงููุฉ
